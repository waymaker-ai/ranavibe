<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RANA - LLM Cost Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .slide-in { animation: slideIn 0.5s ease-out; }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">

  <!-- Header -->
  <header class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
            RANA Cost Calculator üêü
          </h1>
          <p class="text-gray-600 mt-1">Calculate and optimize your LLM costs across 9 providers</p>
        </div>
        <div class="text-right">
          <p class="text-sm text-gray-500">Rapid AI Native Architecture</p>
          <a href="https://rana.dev" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
            Learn More ‚Üí
          </a>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Calculator Section -->
    <div class="grid md:grid-cols-2 gap-8 mb-8">

      <!-- Input Panel -->
      <div class="bg-white rounded-xl shadow-lg p-6 slide-in">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Your Usage</h2>

        <div class="space-y-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Monthly Requests
            </label>
            <input
              type="number"
              id="requests"
              value="10000"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              oninput="calculate()"
            >
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Average Input Tokens per Request
            </label>
            <input
              type="number"
              id="inputTokens"
              value="500"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              oninput="calculate()"
            >
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Average Output Tokens per Request
            </label>
            <input
              type="number"
              id="outputTokens"
              value="300"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              oninput="calculate()"
            >
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Task Complexity
            </label>
            <select
              id="complexity"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              onchange="calculate()"
            >
              <option value="simple">Simple (Q&A, Classification)</option>
              <option value="medium" selected>Medium (Summarization, Analysis)</option>
              <option value="complex">Complex (Code Gen, Multi-step)</option>
            </select>
          </div>

          <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
              </svg>
              <div>
                <p class="text-sm font-medium text-blue-900">RANA Optimization</p>
                <p class="text-xs text-blue-700 mt-1">We'll show you the optimal provider mix to save up to 70%</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Results Panel -->
      <div class="bg-white rounded-xl shadow-lg p-6 slide-in" style="animation-delay: 0.1s">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Cost Comparison</h2>

        <div class="space-y-4" id="results">
          <!-- Results will be inserted here -->
        </div>

        <div class="mt-6 pt-6 border-t border-gray-200">
          <div class="bg-green-50 rounded-lg p-4">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-medium text-green-900">Potential Monthly Savings</span>
              <span class="text-2xl font-bold text-green-600" id="savings">$0</span>
            </div>
            <p class="text-xs text-green-700">Compared to using only the most expensive provider</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Detailed Breakdown -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8 slide-in" style="animation-delay: 0.2s">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">All Providers</h2>
      <div class="overflow-x-auto">
        <table class="w-full text-sm" id="providerTable">
          <thead class="bg-gray-50 border-b border-gray-200">
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-700">Provider</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-700">Model</th>
              <th class="px-4 py-3 text-right font-semibold text-gray-700">Input Cost</th>
              <th class="px-4 py-3 text-right font-semibold text-gray-700">Output Cost</th>
              <th class="px-4 py-3 text-right font-semibold text-gray-700">Monthly Cost</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-700">Best For</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200" id="providerTableBody">
            <!-- Table rows will be inserted here -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Chart -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8 slide-in" style="animation-delay: 0.3s">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">Cost Visualization</h2>
      <canvas id="costChart" height="100"></canvas>
    </div>

    <!-- Recommendations -->
    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg p-6 text-white slide-in" style="animation-delay: 0.4s">
      <h2 class="text-2xl font-bold mb-4">üí° RANA Recommendations</h2>
      <div id="recommendations" class="space-y-3">
        <!-- Recommendations will be inserted here -->
      </div>
    </div>

  </main>

  <script>
    const providers = [
      { name: 'OpenAI', model: 'GPT-4 Turbo', inputCost: 10, outputCost: 30, bestFor: 'Complex reasoning, code generation', multimodal: false },
      { name: 'OpenAI', model: 'GPT-4o', inputCost: 5, outputCost: 15, bestFor: 'Multimodal tasks, real-time apps', multimodal: true },
      { name: 'OpenAI', model: 'GPT-3.5 Turbo', inputCost: 0.5, outputCost: 1.5, bestFor: 'Simple tasks, high volume', multimodal: false },
      { name: 'Anthropic', model: 'Claude 3.5 Sonnet', inputCost: 3, outputCost: 15, bestFor: 'Long context, analysis, coding', multimodal: false },
      { name: 'Anthropic', model: 'Claude 3 Haiku', inputCost: 0.25, outputCost: 1.25, bestFor: 'Simple tasks, cost-sensitive', multimodal: false },
      { name: 'Google', model: 'Gemini 3', inputCost: 2, outputCost: 8, bestFor: 'Advanced reasoning, agentic coding', multimodal: true },
      { name: 'Google', model: 'Gemini 2.0 Flash', inputCost: 0.1, outputCost: 0.4, bestFor: 'Real-time streaming, multimodal', multimodal: true },
      { name: 'Google', model: 'Gemini 1.5 Pro', inputCost: 1.25, outputCost: 5, bestFor: 'Long context, document analysis', multimodal: true },
      { name: 'Mistral AI', model: 'Mistral Large', inputCost: 4, outputCost: 12, bestFor: 'European compliance, multilingual', multimodal: false },
      { name: 'Mistral AI', model: 'Mistral Small', inputCost: 1, outputCost: 3, bestFor: 'Cost-sensitive, fast responses', multimodal: false },
      { name: 'Cohere', model: 'Command R+', inputCost: 3, outputCost: 15, bestFor: 'Enterprise RAG, tool use', multimodal: false },
      { name: 'Groq', model: 'Llama 3.1 70B', inputCost: 0.59, outputCost: 0.79, bestFor: 'Ultra-low latency, real-time', multimodal: false },
      { name: 'Together.ai', model: 'Llama 3.1 405B', inputCost: 3.5, outputCost: 3.5, bestFor: 'Open-source, customization', multimodal: false },
      { name: 'xAI', model: 'Grok Beta', inputCost: 10, outputCost: 30, bestFor: 'Real-time data, X integration', multimodal: false },
      { name: 'Ollama', model: 'Local Models', inputCost: 0, outputCost: 0, bestFor: 'Development, privacy, free', multimodal: false },
    ];

    let chart = null;

    function calculate() {
      const requests = parseInt(document.getElementById('requests').value) || 0;
      const inputTokens = parseInt(document.getElementById('inputTokens').value) || 0;
      const outputTokens = parseInt(document.getElementById('outputTokens').value) || 0;
      const complexity = document.getElementById('complexity').value;

      const totalInputTokens = requests * inputTokens;
      const totalOutputTokens = requests * outputTokens;

      const results = providers.map(p => ({
        ...p,
        monthlyCost: (totalInputTokens / 1_000_000) * p.inputCost + (totalOutputTokens / 1_000_000) * p.outputCost
      })).sort((a, b) => a.monthlyCost - b.monthlyCost);

      displayResults(results);
      displayTable(results);
      displayChart(results);
      displayRecommendations(results, complexity);
    }

    function displayResults(results) {
      const top5 = results.slice(0, 5);
      const html = top5.map((r, i) => `
        <div class="flex items-center justify-between p-4 bg-gradient-to-r ${i === 0 ? 'from-green-50 to-emerald-50 border-2 border-green-300' : 'from-gray-50 to-gray-100'} rounded-lg">
          <div class="flex items-center space-x-3">
            <div class="w-8 h-8 rounded-full ${i === 0 ? 'bg-green-500' : 'bg-gray-400'} flex items-center justify-center text-white font-bold">
              ${i + 1}
            </div>
            <div>
              <p class="font-semibold text-gray-900">${r.name}</p>
              <p class="text-xs text-gray-600">${r.model}</p>
            </div>
          </div>
          <div class="text-right">
            <p class="text-2xl font-bold ${i === 0 ? 'text-green-600' : 'text-gray-900'}">$${r.monthlyCost.toFixed(2)}</p>
            <p class="text-xs text-gray-500">/month</p>
          </div>
        </div>
      `).join('');

      document.getElementById('results').innerHTML = html;

      const maxCost = Math.max(...results.map(r => r.monthlyCost));
      const minCost = Math.min(...results.filter(r => r.monthlyCost > 0).map(r => r.monthlyCost));
      document.getElementById('savings').textContent = `$${(maxCost - minCost).toFixed(2)}`;
    }

    function displayTable(results) {
      const html = results.map((r, i) => `
        <tr class="${i % 2 === 0 ? 'bg-white' : 'bg-gray-50'}">
          <td class="px-4 py-3 font-medium text-gray-900">${r.name}</td>
          <td class="px-4 py-3 text-gray-700">${r.model} ${r.multimodal ? 'üé®' : ''}</td>
          <td class="px-4 py-3 text-right text-gray-700">$${r.inputCost}/1M</td>
          <td class="px-4 py-3 text-right text-gray-700">$${r.outputCost}/1M</td>
          <td class="px-4 py-3 text-right font-bold text-gray-900">$${r.monthlyCost.toFixed(2)}</td>
          <td class="px-4 py-3 text-gray-600 text-xs">${r.bestFor}</td>
        </tr>
      `).join('');

      document.getElementById('providerTableBody').innerHTML = html;
    }

    function displayChart(results) {
      const ctx = document.getElementById('costChart');

      if (chart) {
        chart.destroy();
      }

      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: results.map(r => `${r.name}\n${r.model}`),
          datasets: [{
            label: 'Monthly Cost ($)',
            data: results.map(r => r.monthlyCost),
            backgroundColor: results.map((r, i) =>
              i === 0 ? 'rgba(34, 197, 94, 0.8)' : 'rgba(59, 130, 246, 0.6)'
            ),
            borderColor: results.map((r, i) =>
              i === 0 ? 'rgba(34, 197, 94, 1)' : 'rgba(59, 130, 246, 1)'
            ),
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: (context) => `Cost: $${context.parsed.y.toFixed(2)}/month`
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: (value) => '$' + value
              }
            }
          }
        }
      });
    }

    function displayRecommendations(results, complexity) {
      let recs = [];

      if (complexity === 'simple') {
        recs = [
          `üéØ <strong>Best Choice:</strong> ${results[0].name} ${results[0].model} - $${results[0].monthlyCost.toFixed(2)}/month`,
          `‚ö° <strong>Ultra-Fast Option:</strong> Groq Llama 70B for real-time responses`,
          `üí∞ <strong>Free Option:</strong> Ollama for development and testing`,
        ];
      } else if (complexity === 'medium') {
        recs = [
          `üéØ <strong>Recommended Mix:</strong> Use ${results[0].model} for 70% of requests, ${results.find(r => r.model.includes('GPT-4') || r.model.includes('Claude 3.5'))?.model || 'powerful model'} for complex 30%`,
          `üìä <strong>Cost Optimization:</strong> This could save you up to ${((results[results.length-1].monthlyCost - results[0].monthlyCost) / results[results.length-1].monthlyCost * 100).toFixed(0)}% compared to using only expensive models`,
          `üåü <strong>New:</strong> Gemini 2.0 Flash for multimodal tasks at ultra-low cost`,
        ];
      } else {
        recs = [
          `üéØ <strong>Best for Complex Tasks:</strong> Start with GPT-4o, Claude 3.5 Sonnet, or Gemini 3`,
          `üí° <strong>Smart Strategy:</strong> Use cascading: try cheaper models first, escalate to powerful models if needed`,
          `üöÄ <strong>Agentic Coding:</strong> Gemini 3 for single-prompt app generation (works with Antigravity)`,
        ];
      }

      recs.push(`üì¶ <strong>RANA Framework:</strong> Includes automatic cost optimization, caching, and smart model routing`);

      document.getElementById('recommendations').innerHTML = recs.map(r => `
        <div class="flex items-start space-x-2">
          <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
          </svg>
          <p class="text-sm">${r}</p>
        </div>
      `).join('');
    }

    // Initialize on load
    calculate();
  </script>

</body>
</html>
